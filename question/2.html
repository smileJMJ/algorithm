<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>01</title>
</head>
<body>
    <script>
        const data1 = {
            "rock": [1, 2, 1, 4],
            "dog": [{
                "이름" : "루비독",
                "나이" : "95년생",
                "점프력" : "3",
                "몸무게" : "4",
            },{
                "이름" : "피치독",
                "나이" : "95년생",
                "점프력" : "3",
                "몸무게" : "3",
            },{
                "이름" : "씨-독",
                "나이" : "72년생",
                "점프력" : "2",
                "몸무게" : "1",
            },{
                "이름" : "코볼독",
                "나이" : "59년생",
                "점프력" : "1",
                "몸무게" : "1",
            }
            ]
        };
        const data2 = {
            "rock": [5, 3, 4, 1, 3, 8, 3],
            "dog": [{
                "이름" : "루비독",
                "나이" : "95년생",
                "점프력" : "3",
                "몸무게" : "4",
            },{
                "이름" : "피치독",
                "나이" : "95년생",
                "점프력" : "3",
                "몸무게" : "3",
            },{
                "이름" : "씨-독",
                "나이" : "72년생",
                "점프력" : "2",
                "몸무게" : "1",
            },{
                "이름" : "코볼독",
                "나이" : "59년생",
                "점프력" : "1",
                "몸무게" : "1",
            }
            ]
        };

        function dogLive(data) {
            const rock = data['rock'];
            const rockLng = rock.length;
            const dog = data['dog'];
            let liveDog = [];

            dog.forEach((v, i) => {
                const jump = parseInt(v['점프력']);
                const weight = parseInt(v['몸무게']);
                const challenge = parseInt(rockLng/jump);

                for(let j = 1; j<=challenge; j++) {
                    let idx = j * jump - 1;
                    rock[idx] = (rock[idx] - weight) < 0 ? 0 : (rock[idx] - weight);

                    if(rock[idx] < weight) continue;
                    if(j === challenge) liveDog.push(v['이름']);
                }
                console.log(rock)
            });

            return liveDog;
        }

        console.log(dogLive(data1));
        console.log(dogLive(data2));
    </script>
</body>
</html>