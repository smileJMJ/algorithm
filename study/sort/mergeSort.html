<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>병합정렬</title>
    </head>
    <body>
        <script>
            (function() {
                const array = [5, 2, 4, 7, 6, 1, 3, 8];

                const merge = (left, right) => {
                    let result = [];
                    while(left.length && right.length) {
                        if(left[0] <= right[0]) result.push(left.shift());
                        else result.push(right.shift());
                    }
                    while(left.length) result.push(left.shift()); // left array에 값이 남았을 때
                    while(right.length) result.push(right.shift()); // left array에 값이 남았을 때
                    
                    return result;
                };

                const mergeSort = (arr) => { // 분할
                    if(arr.length < 2) return arr; // 기본단위

                    const pivot = Math.floor(arr.length / 2);
                    const left = arr.slice(0, pivot);
                    const right = arr.slice(pivot, arr.length);

                    return merge(mergeSort(left), mergeSort(right));
                };

                console.log(mergeSort(array));
            })();
        </script>
    </body>
</html>
